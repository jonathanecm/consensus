separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = ";") %>%
mutate(ini_year = year(make_date(ini_date))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_date, Publisher)
pmc_eur_cleaned$ini_year
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = ";") %>%
mutate(ini_year = year(make_date(ini_date)), last_year = year(make_date(last_date))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_date, Publisher)
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = ";") %>%
mutate(ini_year = year(make_date(ini_date)), last_year = year(make_date(last_date))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_date, Publisher)
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = ";") %>%
mutate(ini_year = year(make_date(ini_date)), last_year = year(make_date(last_date))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_date, Publisher)
View(pmc_eur_cleaned)
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = ";")
pmc_eur_cleaned$last_date
make_date(pmc_eur_cleaned$last_date)
t <- make_date(pmc_eur_cleaned$last_date)
t
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = ";") %>%
separate(last_date, into = c("V3", "V4"))
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur$Latest.issue
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = ";")
View(pmc_eur_cleaned)
make_date(pmc_eur_cleaned$last_date)
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = "\((\d{4})\)$")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = "\\((\d{4})\)$")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = "\\((\\d{4})\)$")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = "\\((\\d{4})\\)$")
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = "^(.+)\s\(([0-9]{4})\)$")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = "^(.+)\\s\(([0-9]{4})\)$")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = "^(.+)\\s\\(([0-9]{4})\)$")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = "^(.+)\\s\\(([0-9]{4})\\)$")
View(pmc_eur)
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = "")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = "")
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = "")
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "last_date"), sep = ";")
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "V3"), sep = ";")
?str_sub
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "V3"), sep = ";") %>%
separate("V3", into = c("V$", "last_date"), sep = " ")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "V3"), sep = ";") %>%
#%>%
mutate(ini_year = year(make_date(ini_date)), last_year = year(make_date(last_date))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_date, Publisher)
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "V3"), sep = ";") %>%
#%>%
mutate(ini_year = year(make_date(ini_date)), last_year = year(make_date(last_date))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_date, Publisher)
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "V3"), sep = ";") %>%
#%>%
mutate(ini_year = year(make_date(ini_date)), last_year = year(make_date(last_date))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_date, Publisher)
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
separate(Earliest.volume, into = c("V1", "ini_date"), sep = ";") %>%
separate(Latest.issue, into = c("V2", "V3"), sep = ";")
View(pmc_eur_cleaned)
library(stringi)
sentences
class(sentences)
length(sentences)
1:3
1500:2017
years <- as.character(1500:2017)
years
year_match <- str_c(years, collapse = "|")
years
years_match <- str_c(years, collapse = "|")
years_match
View(pmc_eur_cleaned)
has_year <- str_subset(pmc_eur_cleaned$V3, year_match)
has_year
matches <- str_extract(has_year, year_match)
matches
length(pmc_eur_cleaned)
str(pmc_eur_cleaned)
str(matches)
matches <- str_extract(pmc_eur_cleaned$V3, year_match)
matches
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
mutate(int_year = str_extract(pmc_eur_cleaned$V3, year_match))
View(pmc_eur_cleaned)
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
mutate(int_year = str_extract(pmc_eur_cleaned$Earliest.volume, years))
pmc_eur_cleaned <- pmc_eur %>%
mutate(int_year = str_extract(pmc_eur_cleaned$Earliest.volume, years_match))
years <- as.character(1500:2017)
years_match <- str_c(years, collapse = "|")
pmc_eur_cleaned <- pmc_eur %>%
mutate(int_year = str_extract(pmc_eur_cleaned$Earliest.volume, years_match))
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
mutate(int_year = str_extract(pmc_eur_cleaned$Earliest.volume, years_match))
pmc_eur_cleaned <- pmc_eur %>%
mutate(int_year = str_extract(pmc_eur$Earliest.volume, years_match))
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
mutate(int_year = year(str_extract(pmc_eur$Earliest.volume, years_match)))
pmc_eur_cleaned <- pmc_eur %>%
mutate(int_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))))
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
mutate(int_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))
)
View(pmc_eur_cleaned)
str(pmc_eur_cleaned)
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
mutate(int_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(ini_year, Earliest.volume, last_date, Latest.issue, Publisher)
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(ini_year, Earliest.volume, last_date, Latest.issue, Publisher)
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(ini_year, Earliest.volume, last_year, Latest.issue, Publisher)
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, Earliest.volume, last_year, Latest.issue, Publisher)
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, Earliest.volume, last_year, Latest.issue, Publisher) %>%
filter(ini_year <= 1900 & last_year >= 2000)
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, Earliest.volume, last_year, Latest.issue, Publisher) %>%
filter(ini_year <= 1900 & last_year >= 1950)
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, Earliest.volume, last_year, Latest.issue, Publisher) %>%
filter(ini_year <= 1900 & last_year >= 2000)
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, Earliest.volume, last_year, Latest.issue, Publisher) %>%
filter(ini_year <= 1900 & last_year >= 1900)
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_year, Publisher) %>%
filter(ini_year <= 1900 & last_year >= 1900)
View(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_year, Publisher) %>%
filter(ini_year <= 1900 & last_year >= 1800)
View(pmc_eur_cleaned)
jstore = read_xls("./data/journals.xls")
jstore$discipline
t <- jstore$discipline
t
class(t)
str(t)
jstore_cleaned %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = ymd(ini_date), last_date = ymd(last_date), source = "jstor") %>%
filter(initial_date <= "1900-01-01" & last_date >= "2000-01-01")
jstore = read_xls("./data/journals.xls")
jstore = read_xls("./data/journals.xls")
jstore_cleaned %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = ymd(ini_date), last_date = ymd(last_date), source = "jstor") %>%
filter(initial_date <= "1900-01-01" & last_date >= "2000-01-01")
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = ymd(ini_date), last_date = ymd(last_date), source = "jstor") %>%
filter(initial_date <= "1900-01-01" & last_date >= "2000-01-01")
jstore = read_xls("./data/journals.xls")
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = ymd(ini_date), last_date = ymd(last_date), source = "jstor") %>%
filter(initial_date <= "1900-01-01" & last_date >= "2000-01-01")
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = ymd(ini_date), last_date = ymd(last_date), source = "jstor") %>%
filter(initial_date <= "1900-01-01" & last_date >= "2000-01-01")
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = ymd(ini_date), last_date = ymd(last_date), source = "jstor") %>%
filter(ini_date <= "1900-01-01" & last_date >= "2000-01-01")
jstore_cleaned$discipline
unique(jstore_cleaned$discipline0
unique(jstore_cleaned$discipline)
unique(jstore_cleaned$discipline)
as.character(unique(jstore_cleaned$discipline))
disciplines <- unique(jstore_cleaned$discipline)
disciplines_match <- str_c(disciplines, collapse = "|")
disciplines_match
disciplines
disciplines_match
disciplines
str_split(jstore$discipline, " ")
View(jstore)
disciplines <- jstore %>%
strsplit(disciplines, ";")
disciplines <- jstore %>%
str_split(disciplines, ";")
jstore = read_xls("./data/journals.xls")
disc<- jstore %>%
str_split(disciplines, ";")
disc <- jstore %>%
str_split(disciplines, ";")
disc <- jstore %>%
str_split(jstore$disciplines, ";")
disc <- jstore %>%
select(discipline)
disc
disc <- jstore %>%
select(discipline) %>% as.character()
disc
disc <- jstore %>%
select(discipline) %>%
str_split(jstore$disciplines, ";")
disc <- jstore %>%
select(discipline) %>%
str_split(";")
disc
disc <- jstore$discipline
disc <- jstore$discipline
disc
disc <- jstore$discipline %>%
str_split(";")
disc
disc <- jstore$discipline %>%
str_split(";") unlist()
jstore = read_xls("./data/journals.xls")
disc <- jstore$discipline %>%
str_split(";") unlist()
disc <- jstore$discipline %>%
str_split(";") %>%
unlist()
disc
disc <- jstore$discipline %>%
str_split(";") %>%
unlist() %>%
unique()
disc
disc <- jstore$discipline %>%
str_split(";") %>%
unlist() %>%
str_replace(" ", "")
disc
disc <- jstore$discipline %>%
str_split(";") %>%
unlist() %>%
str_replace(" ", "") %>%
unique()
disc
disc <- jstore$discipline %>%
str_split(";") %>%
unlist() %>%
str_replace_all(" ", "")
disc
disc <- jstore$discipline %>%
str_split(";") %>%
unlist() %>%
str_replace_all(" ", "") %>%
unique()
disc
?str_replace
disc <- jstore$discipline %>%
str_split(";") %>%
unlist() %>%
str_replace(" ", "") %>%
unique()
disc
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ")
jstore = read_xls("./data/journals.xls")
years <- as.character(1500:2017)
years_match <- str_c(years, collapse = "|")
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ")
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_year = year(make_date(str_extract(jstore_cleaned$ini_date, years_match))),
last_year = year(make_date(str_extract(jstore_cleaned$last_date, years_match))))
View(jstore_cleaned)
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_year = year(make_date(str_extract(jstore_cleaned$ini_date, years_match))),
last_year = year(make_date(str_extract(jstore_cleaned$last_date, years_match)))) %>%
filter(ini_year <= 1900 & last_year >= 2000)
View(jstore_cleaned)
jstore_cleaned <- jstore %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_year = year(make_date(str_extract(jstore_cleaned$ini_date, years_match))),
last_year = year(make_date(str_extract(jstore_cleaned$last_date, years_match)))) %>%
filter(ini_year <= 1900 & last_year >= 2000)
jstore = read_xls("./data/journals.xls")
years <- as.character(1500:2017)
years_match <- str_c(years, collapse = "|")
jstore_cleaned <- jstore %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_year = year(make_date(str_extract(jstore_cleaned$ini_date, years_match))),
last_year = year(make_date(str_extract(jstore_cleaned$last_date, years_match)))) %>%
filter(ini_year <= 1900 & last_year >= 2000)
jstore = read_xls("./data/journals.xls")
years <- as.character(1500:2017)
years_match <- str_c(years, collapse = "|")
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_year = year(make_date(str_extract(jstore_cleaned$ini_date, years_match))),
last_year = year(make_date(str_extract(jstore_cleaned$last_date, years_match)))) %>%
filter(ini_year <= 1900 & last_year >= 2000)
jstore = read_xls("./data/journals.xls")
library(readxl)
library(lubridate)
library(stringi)
library(tidyverse)
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_year = year(make_date(str_extract(jstore_cleaned$ini_date, years_match))),
last_year = year(make_date(str_extract(jstore_cleaned$last_date, years_match))))
years_match <- str_c(years, collapse = "|")
jstore = read_xls("./data/journals.xls")
years <- as.character(1500:2017)
years_match <- str_c(years, collapse = "|")
library(tidyverse)
library(readxl)
library(lubridate)
library(stringi)
jstore = read_xls("./data/journals.xls")
years <- as.character(1500:2017)
years_match <- str_c(years, collapse = "|")
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_year = year(make_date(str_extract(jstore_cleaned$ini_date, years_match))),
last_year = year(make_date(str_extract(jstore_cleaned$last_date, years_match))))
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_year = year(make_date(str_extract(jstore$ini_date, years_match))),
last_year = year(make_date(str_extract(jstore$last_date, years_match))))
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = ymd(ini_date), last_date = ymd(last_date), source = "jstor") %>%
filter(initial_date <= "1900-01-01" & last_date >= "2000-01-01")
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = ymd(ini_date), last_date = ymd(last_date), source = "jstor") %>%
filter(initial_date <= "1900-01-01" & last_date >= "2000-01-01")
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = year(ini_date), last_date = ymd(last_date), source = "jstor") %>%
filter(initial_date <= "1900-01-01" & last_date >= "2000-01-01")
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = year(ini_date), last_date = ymd(last_date), source = "jstor") %>%
filter(ini_date <= "1900-01-01" & last_date >= "2000-01-01")
View(jstore_cleaned)
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = year(ini_date), last_date = year(last_date), source = "jstor") %>%
filter(ini_date <= "1900-01-01" & last_date >= "2000-01-01")
View(jstore_cleaned)
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = year(ini_date), last_date = year(last_date), source = "jstor") %>%
filter(ini_date <= 1900 & last_date >= 2000)
View(jstore_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_year, Publisher) %>%
filter(ini_year <= 1900 & last_year >= 2000)
library(tidyverse)
library(readxl)
library(lubridate)
library(stringi)
jstore = read_xls("./data/journals.xls")
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_date = year(ini_date), last_date = year(last_date), source = "jstor") %>%
filter(ini_date <= 1900 & last_date >= 2000)
years <- as.character(1500:2017)
years_match <- str_c(years, collapse = "|")
pmc_eur = read.csv("./data/jlist.csv")
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_year, Publisher) %>%
filter(ini_year <= 1900 & last_year >= 2000)
str(jstore_cleaned)
str(pmc_eur_cleaned)
jstore_cleaned <- jstore %>%
select(title = publication_title, discipline, full_coverage, title_id, coverage_depth, publisher = publisher_name, publication_type) %>%
separate(full_coverage, into = c("ini_date", "last_date"), sep = " - ") %>%
mutate(ini_year = year(ini_date), last_year = year(last_date), source = "jstor") %>%
filter(ini_date <= 1900 & last_date >= 2000) %>%
select(title, discipline, ini_year, last_year, title_id, publisher, publication_type, source)
View(jstore_cleaned)
str(jstore_cleaned)
str(pmc_eur_cleaned)
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_year, Publisher) %>%
filter(ini_year <= 1900 & last_year >= 2000) %>%
select(title, discipline, ini_year, last_year, title_id = "na", publisher = Publisher, publication_type = "na", source = "pmc europe")
pmc_eur_cleaned <- pmc_eur %>%
mutate(ini_year = year(make_date(str_extract(pmc_eur$Earliest.volume, years_match))),
last_year = year(make_date(str_extract(pmc_eur$Latest.issue, years_match)))) %>%
select(title = Journal.title, discipline = NLM.TA, ini_year, last_year, Publisher) %>%
filter(ini_year <= 1900 & last_year >= 2000) %>%
mutate(title_id = "na", publication_type = "na", source = "pmc europe") %>%
select(title, discipline, ini_year, last_year, title_id, publisher = Publisher, publication_type, source)
View(pmc_eur_cleaned)
?bind_rows
usable_journals <- bind_rows(jstore_cleaned, pmc_eur_cleaned)
View(usable_journals)
getwd()
usable_journals <- bind_rows(jstore_cleaned, pmc_eur_cleaned) %>%
write_csv("./data/usable_journals.csv")
